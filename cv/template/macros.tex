
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% MACROS %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\newcommand{\mainsection}[2]{
  \color{primary}
  \vspace{1.4em}
  \par\textbf{\Large #1 \hspace{0.2em} \uppercase{#2}}
  \color{text}
  \vspace{0.4em}
}

\newcommand{\sidebarsection}[1]{
  \vspace{1em}
  \begin{center}
    \textbf{\Large \uppercase{#1}}
  \end{center}
}

\newcommand{\sidebarsubsection}[1]{
    \vspace{0.3cm}
    \textbf{\large \uppercase{#1}}
    \vspace{0.1cm}
}

\newcommand{\cert}[2]{
  \noindent\par\textbf{\large \href{#1}{\underline{#2}}}
  \vspace{0.3cm}
}

%%%%%%%%%%%%%%% Link With an Icon %%%%%%%%%%%%%%% 
\newcommand{\link}[1]{
    \href{#1}{\faIcon{link}}
}

%%%%%%%%%%%%%%% Header Template %%%%%%%%%%%%%%% 
\newcommand{\name}[1]{{
    \color{primary}
    \Huge\bfseries
    \par\raggedright #1
}}

\newcommand{\profession}[1]{{
    \color{primary}
    \vspace*{0.4em}
    \Large\bfseries
    \par\raggedright #1 
}}


\newcommand{\searching}[1]{{
    \color{primary}
    \vspace*{0.3em}
    \Large
    \par\raggedright #1 
}}


%%%%%%%%%%%%%%% Contact Details %%%%%%%%%%%%%%%
\newcommand{\info}[2]{
  \adjustbox{width=5mm, valign=b, margin=0em 0.2em}{\faIcon{#2}}%
    \hspace{0.5em} #1%
}

%%%%%%%%%%%%%%% Email %%%%%%%%%%%%%%%
\newcommand{\email}[1]{
    \par\info{\href{mailto:#1}{\underline{#1}}}{envelope}%
    \vspace{0.5em}%
}

%%%%%%%%%%%%%%% Phone Number %%%%%%%%%%%%%%%
\newcommand{\phone}[1]{
    \par\info{\href{tel:#1}{{#1}}}{mobile-alt}%
    \vspace{0.5em}%
}

%%%%%%%%%%%%%%% Address %%%%%%%%%%%%%%%
\newcommand{\address}[1]{
    \info{#1}{map-marker-alt}%
}

%%%%%%%%%%%%%%% GitHub %%%%%%%%%%%%%%%
\newcommand{\github}[2]{
    \par\info{\href{#1}{\underline{#2}}}{github}%
    \vspace{0.5em}%
}

%%%%%%%%%%%%%%% LinkedIn %%%%%%%%%%%%%%%
\newcommand{\linkedin}[2]{
    \par\info{\href{#1}{\underline{#2}}}{linkedin}%
    \vspace{0.5em}%
}

%%%%%%%%%%%%%%% StackOverflow %%%%%%%%%%%%%%%
\newcommand{\stackoverflow}[2]{
    \par\info{\href{#1}{\underline{#2}}}{stack-overflow}%
    \vspace{0.5em}%
}

%%%%%%%%%%%%%%% Website %%%%%%%%%%%%%%%
% \newcommand{\website}[1]{
%     \info{#1}{link}
% }

%%%%%%%%%%%%%%% Website %%%%%%%%%%%%%%%
\newcommand{\website}[2]{
    \color{linkColor}
    \href{#1}{\info{\underline{#2}}{globe}}
    \color{text}
}

%%%%%%%%%%%%%%% Website %%%%%%%%%%%%%%%
\newcommand{\playstore}[1]{
    \color{linkColor}
    \href{#1}{\info{\underline{GooglePlay}}{google-play}}
    \color{text}
}

\newcommand{\appstore}[1]{
    \color{linkColor}
    \href{#1}{\info{\underline{AppStore}}{app-store-ios}}
    \color{text}
}

\newcommand{\repository}[1]{
    \color{linkColor}
    \href{#1}{\info{\underline{repository}}{github}}
    \color{text}
}

\newcommand{\npm}[1]{
    \color{linkColor}
    \href{#1}{\info{\underline{package}}{npm}}
    \color{text}
}

%%%%%%%%%%%%%%% Draw Skill Bars %%%%%%%%%%%%%%% 
\newcommand{\drawskillbars}[1]{
    \begin{tikzpicture}
        % Draw 5 gray bars
        \foreach \i in {0, 1, 2, 3, 4}{
            \fill[lightgray] (\i * 0.7 + 0.2 *\i,0) rectangle (0.7 + \i * 0.7 + \i * 0.2,0.1);
        }
        
        % Draw number of black bars depending on the skill level
        \foreach \i in {#1}{
            \fill[black] (\i * 0.7 + 0.2 *\i,0) rectangle (0.7 + \i * 0.7 + \i * 0.2,0.1);
        }
    \end{tikzpicture} \par
}
    
%%%%%%%%%%%%%%% Skills %%%%%%%%%%%%%%%
\newcommand{\skill}[2]{
    % Name of the skill
    \large
    \noindent \hangafter=0
    \textmd{#1}
    \normalsize \par 
    % Skill bars
    \drawskillbars{#2}
    \vspace{1.5em}
}

%%%%%%%%%%%%%%% Language %%%%%%%%%%%%%%%
\newcommand{\lan}[2]{ 
    % input: name of the language, level
    \noindent\par \large \hangafter=0
    \textbf{#1 - #2}
    \vspace{1em}
 }

%%%%%%%%%%%%%%% Education %%%%%%%%%%%%%%%
% \newcommand{\education}[4]{
%     % Name of the studies
%     \noindent \large \parbox{.7\linewidth}{\textbf{#1}}
%     % Duration in a Box
%     \hfill \scriptsize
%     \tcbox[enhanced,box align=base,nobeforeafter,colback=title,colframe=title,size=fbox,arc=0mm]{\textbf{#2}} \par
%     \vspace{0.3em}
%     % School Name 
%     \large
%     \noindent \color{title} \parbox{.7\linewidth}{\textsl{#3}} \par
%     % Description
%     \normalsize \color{black}
%     \vspace*{0.3em}
%     \small #4 
%     \normalsize \par
% }

%%%%%%%%%%%%%%% Work Experience %%%%%%%%%%%%%%%
% \newcommand{\work}[4]{
%     % Name of the Job
%     \noindent \large \parbox{.7\linewidth}{\textbf{#1}}
%     % Duration in a Box 
%     \hfill \scriptsize
%     \tcbox[enhanced,box align=base,nobeforeafter,colback=title,colframe=title,size=fbox,arc=0mm]{\textbf{#2}} \par
%     \vspace{0.3em}
%     % Name of the Employer
%     \noindent \large \color{title} \parbox{.7\linewidth}{\textsl{#3}} \par
%     % Description of the job
%     \vspace*{0.3em} \color{black}
%     \small #4 
%     \normalsize \par
% }

%%%%%%%%%%%%%%% Publications %%%%%%%%%%%%%%%
\newcommand{\pub}[5]{
    % Title
    \noindent \large \parbox{.7\linewidth}{\textbf{#1} \link{#5}}
    % Publication Date
    \hfill \scriptsize
    \tcbox[enhanced,box align=base,nobeforeafter,colback=title,colframe=title,size=fbox,arc=0mm]{\textbf{#2}} \par
    \vspace{0.3em}
    % Institution
    \large
    \noindent \color{title} \parbox{.7\linewidth}{\textsl{#3}} \par
    % Description
    \vspace*{0.3em} \color{black}
    \small \textit{#4} \par
    \normalsize \par 
}


% Command for Experience
\newcommand{\work}[6]{ % input: years, company, title, stack, description
  \hyphenpenalty=100000
  \vspace*{0.5em}
  \par\adjustbox{valign=t}{\begin{minipage}{2.5cm}
        \begin{center}
            {\small \bfseries #1} \\
            \vspace*{0.3em}
        \end{center}
    \end{minipage}}
    \hfill \vline \hfill
    \adjustbox{valign=t}{\begin{minipage}{8cm}
        \par\uppercase{\textbf{\large #2}}
        \vspace*{0.3em}
        \par\uppercase{\textbf{\small #3}}
        \vspace*{0.2em}
        \par\uppercase{\small #4}
        #5
    \end{minipage}}
    \vspace{1.5em}
}


\newcommand{\worklinks}[1]{
  \vspace*{1em}
  \par\small {\emph{#1}}
}


% Command for Education and Works
\newcommand{\education}[7]{ % input: years, logo, title, university, city, specialization, description
  \hyphenpenalty=100000
  \vspace*{0.4em}
  \par\adjustbox{valign=t}{\begin{minipage}{2.5cm}
        \begin{center}
            {\small \bfseries #1} \\
            \vspace*{0.2em}
          \includegraphics[width=2.4cm]{#2}
        \end{center}
    \end{minipage}}
    \hfill \vline \hfill
    \adjustbox{valign=t}{\begin{minipage}{8cm}
        \par\uppercase{\textbf{\large #3}}
        \vspace*{0.3em}
        \par\uppercase{\textbf{\small #4}}
        \vspace*{0.2em}
        \par\emph{\small #6}
        % \vspace*{0.1em}
        \par{\footnotesize \faMapMarker  ~ #5}
        \newline 
    \end{minipage}}
    % \adjustbox{valign=t}{\begin{minipage}{2.5cm}
    %     % \hfill {\footnotesize \faMapMarker  ~ #5}
    %     % \newline
    %     % \footnotesize {#7} 
    % \end{minipage}}
    \vspace{1.5em}
}


% Skills
\makeatletter
\newcommand{\newdecl}[2]{\csgdef{decl@#1}{#2}}% Creates a declaration
\newcommand{\csvdel}{}% Delimiter used in CSV representation
\newcommand{\skills}[1][ - ]{% Use a declaration
  \hyphenpenalty=100000
  \noindent\par
  \renewcommand{\csvdel}{\renewcommand{\csvdel}{#1\,}}% Delay \csvdel one cycle.
  \checknextarg}
\newcommand{\checknextarg}{\@ifnextchar\bgroup{\gobblenext}{}}% Check if another "argument" exists
\newcommand{\gobblenext}[1]{\csvdel\uppercase{#1}\@ifnextchar\bgroup{\gobblenext}{}}% Gobble next "argument"
\makeatother

